# Zigbee2MQTT Manager - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?](#—á—Ç–æ-—ç—Ç–æ-—Ç–∞–∫–æ–µ)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#–ø–æ–¥—Ä–æ–±–Ω–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
4. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–∏—Å—Ç–µ–º–æ–π)
5. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
6. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
7. [–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã](#—á–∞—Å—Ç–æ-–∑–∞–¥–∞–≤–∞–µ–º—ã–µ-–≤–æ–ø—Ä–æ—Å—ã)

---

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

**Zigbee2MQTT Manager** - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Zigbee —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ MQTT –ø—Ä–æ—Ç–æ–∫–æ–ª. –û–Ω–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

1. **MQTT Broker (Eclipse Mosquitto)** - —Å–µ—Ä–≤–µ—Ä –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
2. **Zigbee2MQTT** - –º–æ—Å—Ç –º–µ–∂–¥—É Zigbee —Å–µ—Ç—å—é –∏ MQTT

### üè† –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:

- **–ü–æ–¥–∫–ª—é—á–∞—Ç—å Zigbee —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** (–ª–∞–º–ø–æ—á–∫–∏, –¥–∞—Ç—á–∏–∫–∏, –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏)
- **–£–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ MQTT** –∏–∑ Home Assistant, Node-RED –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å** —Ä–∞–±–æ—Ç—É —É–º–Ω–æ–≥–æ –¥–æ–º–∞

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å:
- **Zigbee –∞–¥–∞–ø—Ç–µ—Ä** (CC2531, CC2538, CC2652P –∏ –¥—Ä.)
- **Docker –∏ Docker Compose** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- **Linux —Å–∏—Å—Ç–µ–º–∞** (Ubuntu, Debian, etc.)

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone https://github.com/rocket-home/zigbee-manager.git
cd zigbee-manager
```

### –®–∞–≥ 3: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã
make setup
```

```bash
# –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ Zigbee –∞–¥–∞–ø—Ç–µ—Ä–∞
make detect
```

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
make permissions
```

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏
make secure-setup
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫

```bash
# –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
make start
```

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
make status
```

### –®–∞–≥ 5: –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º

- **Zigbee2MQTT Web UI**: http://localhost:8083
- **MQTT Broker**: localhost:1883

---

## ‚öôÔ∏è –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ Zigbee –∞–¥–∞–ø—Ç–µ—Ä–∞

```bash
make detect
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç:
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **–¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** (Zigbee –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–ª–∏ USB-to-Serial —á–∏–ø)
- **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –∫ –∫–∞–∂–¥–æ–º—É –ø–æ—Ä—Ç—É
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üîç –ê–Ω–∞–ª–∏–∑ /dev/ttyACM0: 
   üìç –ü–æ—Ä—Ç: /dev/ttyACM0
   üè≠ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: Texas Instruments
   üì¶ –ú–æ–¥–µ–ª—å: CC2538
   ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω –∫–∞–∫ Texas Instruments CC2538 Zigbee –∞–¥–∞–ø—Ç–µ—Ä 
   ‚≠ê CC2538 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Zigbee –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä 
```

### üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
make permissions
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É `dialout`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ—Ä—Ç–∞–º
- –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ä—Ç–∞

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≥—Ä—É–ø–ø—É –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:**
```bash
make apply-group
```

### üõ°Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏

```bash
make secure-setup
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –°–æ–∑–¥–∞—é—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
2. –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
   - **PAN ID** (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Ç–∏)
   - **Extended PAN ID** (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
   - **Network Key** (–∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è)
3. –°–æ–∑–¥–∞—é—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤
4. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª `.env`

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ!

**üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

---

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make stop` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ |
| `make logs` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ |
| `make logs-mqtt` | –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ MQTT –±—Ä–æ–∫–µ—Ä–∞ |
| `make logs-zigbee` | –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ Zigbee2MQTT |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make permit-join-enable` | –í–∫–ª—é—á–∏—Ç—å permit_join –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ |
| `make permit-join-disable` | –í—ã–∫–ª—é—á–∏—Ç—å permit_join |
| `make permit-join-temp MINUTES=N` | –í–∫–ª—é—á–∏—Ç—å permit_join –Ω–∞ N –º–∏–Ω—É—Ç |
| `make permit-join-status` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å permit_join |

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –í–∫–ª—é—á–∏—Ç—å –Ω–∞ 5 –º–∏–Ω—É—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
make permit-join-temp MINUTES=5

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
make permit-join-status

# –í–∫–ª—é—á–∏—Ç—å –¥–æ —Ä—É—á–Ω–æ–≥–æ –≤—ã–∫–ª—é—á–µ–Ω–∏—è
make permit-join-enable
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –≤—ã–∫–ª—é—á–∞–π—Ç–µ `permit_join` –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏.

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make monitor-devices` | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ |
| `make monitor-devices-all` | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö MQTT —Å–æ–æ–±—â–µ–Ω–∏–π |
| `make monitor-devices-filter FILTER=pattern` | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É |


**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ–ª—å–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
make monitor-devices
```

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
make monitor-devices-all
```

```bash
# –§–∏–ª—å—Ç—Ä –ø–æ —Å–ª–æ–≤—É 'join'
make monitor-devices-filter FILTER=join
```

```bash
# –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
make monitor-devices-filter FILTER=join,left
```

```bash
# –í–∫–ª—é—á–µ–Ω–∏—è –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
make monitor-devices-filter FILTER=+join,-error
```

```bash
# –¢–æ–ª—å–∫–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
make monitor-devices-filter FILTER=-permit
```

```bash
# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
make monitor-devices-filter FILTER=sensor
```

**–ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è:**
- üéâ **–ù–æ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏
- üëã **–û—Ç–∫–ª—é—á–µ–Ω–∏—è** - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–∫–∏–¥–∞—é—Ç —Å–µ—Ç—å
- üì¢ **–û–±—ä—è–≤–ª–µ–Ω–∏—è** - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ–±—ä—è–≤–ª—è—é—Ç –æ —Å–µ–±–µ
- üîê **Permit join** - —Å—Ç–∞—Ç—É—Å —Ä–µ–∂–∏–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚ùå **–û—à–∏–±–∫–∏** - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
make config-check
```

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MQTT –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
make test-mqtt
```

```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
make info
```

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Docker –æ–±—Ä–∞–∑–æ–≤
make pull
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ MQTT
make restart-mqtt
```

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ Zigbee2MQTT
make restart-zigbee
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### –û–±—ã—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤
make generate-configs
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –°–æ–∑–¥–∞—é—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Zigbee2MQTT –∏ MQTT –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è**, –µ—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Zigbee2MQTT
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ—Å—Ç–∞ –∫ –æ–±–ª–∞—á–Ω–æ–º—É MQTT (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Zigbee2MQTT.

#### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
make generate-security
```

**‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û!** –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
- **–£–¥–∞–ª—è–µ—Ç** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç** –Ω–æ–≤—ã–µ PAN ID, Extended PAN ID –∏ Network Key
- **–¢—Ä–µ–±—É–µ—Ç** –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∫ —Å–µ—Ç–∏
- **–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç** –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ —Å–µ—Ç–∏
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–º–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ —Å–∏—Å—Ç–µ–º—ã –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ

**–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
```bash
FORCE=1 make generate-security  # –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
```

#### –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –í—ã–≤–æ–¥—è—Ç—Å—è —Å –ø–æ–º–µ—Ç–∫–æ–π `[–ù–û–í–´–ô]`

**–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö:**
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –í—ã–≤–æ–¥—è—Ç—Å—è —Å –ø–æ–º–µ—Ç–∫–æ–π `[–°–£–©–ï–°–¢–í–£–Æ–©–ò–ô]`
- .env —Ñ–∞–π–ª –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- –°—Ç–∞—Ä—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–¥–∞–ª—è—é—Ç—Å—è
- –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å

---

## ‚òÅÔ∏è –û–±–ª–∞—á–Ω—ã–π MQTT –±—Ä–æ–∫–µ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ–±–ª–∞—á–Ω–æ–º—É MQTT –±—Ä–æ–∫–µ—Ä—É `mq.rocket-home.ru` –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É MQTT 3.11 —á–µ—Ä–µ–∑ –º–æ—Å—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- üì° **–£–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø** –∫ –¥–∞–Ω–Ω—ã–º Zigbee —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üîÑ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ –æ–±–ª–∞—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–∞–º–∏
- üìä **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üõ°Ô∏è **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±–ª–∞–∫–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–ª–∞—á–Ω–æ–≥–æ MQTT

#### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–ª–∞—á–Ω–æ–≥–æ MQTT
make cloud-mqtt-setup
```

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:
- **–•–æ—Å—Ç –±—Ä–æ–∫–µ—Ä–∞** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: mq.rocket-home.ru)
- **–ü–æ—Ä—Ç** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1883)
- **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –∏ **–ø–∞—Ä–æ–ª—å**
- **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: zigbee-manager-bridge)
- **–¢–æ–ø–∏–∫–∏** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Å—Ç–æ–º:

```bash
# –í–∫–ª—é—á–∏—Ç—å –º–æ—Å—Ç –∫ –æ–±–ª–∞—á–Ω–æ–º—É MQTT
make cloud-mqtt-enable
```

```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å –º–æ—Å—Ç –∫ –æ–±–ª–∞—á–Ω–æ–º—É MQTT
make cloud-mqtt-disable
```

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–æ—Å—Ç–∞
make cloud-mqtt-status
```

```bash
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
make cloud-mqtt-test
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–ø–∏–∫–æ–≤

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- **–õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–æ–ø–∏–∫**: `zigbee2mqtt/#`
- **–û–±–ª–∞—á–Ω—ã–π —Ç–æ–ø–∏–∫**: `home/zigbee/#`

**–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
- üì§ **–õ–æ–∫–∞–ª—å–Ω—ã–π ‚Üí –û–±–ª–∞—á–Ω—ã–π**: –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç Zigbee —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üì• **–û–±–ª–∞—á–Ω—ã–π ‚Üí –õ–æ–∫–∞–ª—å–Ω—ã–π**: –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–æ—Å—Ç–∞
CLOUD_MQTT_ENABLED=false

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
CLOUD_MQTT_HOST=mq.rocket-home.ru
CLOUD_MQTT_PORT=1883
CLOUD_MQTT_PROTOCOL=3.11

# –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
CLOUD_MQTT_USERNAME=your_username
CLOUD_MQTT_PASSWORD=your_password

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞
CLOUD_MQTT_CLIENT_ID=zigbee-manager-bridge
CLOUD_MQTT_KEEPALIVE=60

# –¢–æ–ø–∏–∫–∏
CLOUD_MQTT_LOCAL_TOPIC=zigbee2mqtt/#
CLOUD_MQTT_BRIDGE_TOPIC=home/zigbee/#
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–±–ª–∞—á–Ω–æ–≥–æ MQTT:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
make restart
```

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–æ—Å—Ç–∞
make cloud-mqtt-status
```

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ MQTT –±—Ä–æ–∫–µ—Ä–∞
make logs-mqtt
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –æ–±–ª–∞—á–Ω–æ–º—É –±—Ä–æ–∫–µ—Ä—É
make cloud-mqtt-test
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:

```bash
# –õ–æ–≥–∏ MQTT –±—Ä–æ–∫–µ—Ä–∞ (–≤–∫–ª—é—á–∞—è –º–æ—Å—Ç)
make logs-mqtt
```

#### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ–±–ª–∞—á–Ω–æ–º—É –±—Ä–æ–∫–µ—Ä—É
mosquitto_pub -h mq.rocket-home.ru -p 1883 -u username -P password \
  -t "test/connection" -m "Hello from Zigbee Manager"
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

**–ö–æ–º–∞–Ω–¥—ã —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º:**
- `make setup` - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ `.env`
- `make generate-configs` - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Zigbee2MQTT
- `make generate-security` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `make restore` - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `make restore-system` - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ —Å–∏—Å—Ç–µ–º—ã
- `make clean` - —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

**–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `FORCE=1`:
```bash
FORCE=1 make secure-setup  # –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Zigbee

**–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ:**
- **PAN ID**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∞—à–µ–π Zigbee —Å–µ—Ç–∏
- **Extended PAN ID**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Ç–∏
- **Network Key**: –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:**
- –ü–æ—Ç–µ—Ä—è = –ø–æ—Ç–µ—Ä—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
- –ü—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞—Ç—å –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∑–∞–Ω–æ–≤–æ
- –ù–∞—Ä—É—à–∏—Ç—Å—è —Ä–∞–±–æ—Ç–∞ Home Assistant

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π

#### –ü–æ–ª–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
make backup-system NAME=–∏–º—è_—Ä–µ–∑–µ—Ä–≤–Ω–æ–π_–∫–æ–ø–∏–∏
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å –∏–º–µ–Ω–µ–º
make backup-system NAME=before-update
```

```bash
# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å –∏–º–µ–Ω–µ–º
make backup-system NAME=working-config
```

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è z2m_YYYY-MM-DD_HH
make backup-system
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –æ–¥–∏–Ω –∞—Ä—Ö–∏–≤–Ω—ã–π —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** (.env, docker-compose.yml, Makefile)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MQTT –∏ Zigbee2MQTT**
- **–®–∞–±–ª–æ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**
- **–î–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã** (–µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
- **–õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã** (–µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
- **–°–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** (restore.sh)
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏** (backup-info.txt)

#### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
make backup
```

#### –†—É—á–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è .env
cp .env .env.backup
```

```bash
# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Zigbee2MQTT
cp zigbee2mqtt/data/configuration.yaml zigbee2mqtt/data/configuration.yaml.backup
```

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
echo "Zigbee Network Parameters:" > zigbee-params.txt
echo "PAN ID: $(grep ZIGBEE_PAN_ID .env | cut -d= -f2)" >> zigbee-params.txt
echo "Extended PAN ID: $(grep ZIGBEE_EXTENDED_PAN_ID .env | cut -d= -f2)" >> zigbee-params.txt
echo "Network Key: $(grep ZIGBEE_NETWORK_KEY .env | cut -d= -f2)" >> zigbee-params.txt
```

#### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏:

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É –∏–∑ –ø–æ–ª–Ω–æ–π —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
make restore-system BACKUP_FILE=backups/zigbee-manager-backup-z2m_2025-07-26_14.tar.gz
```

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
make restore BACKUP_PATH=backups/20250726_143022
```

```bash
# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
cp .env.backup .env
cp zigbee2mqtt/data/configuration.yaml.backup zigbee2mqtt/data/configuration.yaml
make restart
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ—Ä—Ç—É"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
‚ùå –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ /dev/ttyACM0
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
make permissions
# –ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
make apply-group
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Zigbee –∞–¥–∞–ø—Ç–µ—Ä –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
‚ùå Zigbee –∞–¥–∞–ø—Ç–µ—Ä—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–∞
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `make detect`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞–¥–∞–ø—Ç–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: address already in use
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
make stop

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ—Ä—Ç—ã —Å–≤–æ–±–æ–¥–Ω—ã
sudo lsof -i :1883
sudo lsof -i :8083

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
make start
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
make logs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
make config-check

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
make stop
make clean
make start
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Zigbee –∞–¥–∞–ø—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç: `make detect`
2. –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Zigbee2MQTT Web UI
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `make logs-zigbee`
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∑–æ–Ω–µ –¥–µ–π—Å—Ç–≤–∏—è

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ö–∞–∫–æ–π Zigbee –∞–¥–∞–ø—Ç–µ—Ä –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

**A:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã:
- **CC2538** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –º–æ—â–Ω—ã–π, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
- **CC2531** - –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π, –Ω–∞–¥–µ–∂–Ω—ã–π, –±—é–¥–∂–µ—Ç–Ω—ã–π
- **CC2652P** - –Ω–æ–≤–µ–π—à–∏–π, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å USB-to-Serial –∞–¥–∞–ø—Ç–µ—Ä—ã?

**A:** –ù–µ—Ç, USB-to-Serial —á–∏–ø—ã (CH340, PL2303, FTDI) —Å–∞–º–∏ –ø–æ —Å–µ–±–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è Zigbee —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏. –û–Ω–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ Zigbee –∞–¥–∞–ø—Ç–µ—Ä–∞—Ö, –Ω–æ –Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π Zigbee –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.

### Q: –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –Ω–æ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞?

**A:**
1. –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `make permit-join-enable`
2. –û—Ç–∫—Ä–æ–π—Ç–µ Zigbee2MQTT Web UI: http://localhost:8083
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫ –ø–∏—Ç–∞–Ω–∏—é
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ—è–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–ø–∏—Å–∫–µ
5. –í—ã–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `make permit-join-disable`

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ:**
```bash
make permit-join-temp MINUTES=5
```

### Q: –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Home Assistant?

**A:**
1. –í Home Assistant –¥–æ–±–∞–≤—å—Ç–µ MQTT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ `mqtt://localhost:1883`
3. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ—è–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏?

**A:**
1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏: `cp .env.backup .env`
2. –ï—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –Ω–µ—Ç - –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å–µ—Ç—å
3. –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ

### Q: –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É?

**A:**
```bash
# –û–±–Ω–æ–≤–∏—Ç—å Docker –æ–±—Ä–∞–∑—ã
make pull

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –Ω–æ–≤—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏
make restart
```

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç—ã?

**A:** –î–∞, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:
```bash
MQTT_PORT=1883          # –ü–æ—Ä—Ç MQTT –±—Ä–æ–∫–µ—Ä–∞
MQTT_WS_PORT=9001       # –ü–æ—Ä—Ç WebSocket
ZIGBEE2MQTT_PORT=8083   # –ü–æ—Ä—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Zigbee2MQTT
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
make info

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
make config-check

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MQTT
make test-mqtt

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤
make logs
```

### –ì–¥–µ –∏—Å–∫–∞—Ç—å –ª–æ–≥–∏

- **MQTT –±—Ä–æ–∫–µ—Ä**: `mqtt/log/mosquitto.log`
- **Zigbee2MQTT**: –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make logs-zigbee`)
- **Docker**: `docker logs mqtt-broker` –∏–ª–∏ `docker logs zigbee2mqtt`

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Zigbee2MQTT –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.zigbee2mqtt.io/)
- [Eclipse Mosquitto –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://mosquitto.org/documentation/)
- [Home Assistant MQTT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](https://www.home-assistant.io/integrations/mqtt/)

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

**üéâ –£–¥–∞—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Zigbee2MQTT Manager!** 